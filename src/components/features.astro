---
import { Icon } from "astro-icon/components";

const { lang = "en" } = Astro.props;

let featuresTexts;
if (lang === "es") {
  featuresTexts = (await import("../content/features/features-texts.es.js")).featuresTexts;
} else if (lang === "cat") {
  featuresTexts = (await import("../content/features/features-texts.cat.js")).featuresTexts;
} else {
  featuresTexts = (await import("../content/features/features-texts.js")).featuresTexts;
}
---

<div id="services" class="mt-16 md:mt-0">
  <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight">
    {featuresTexts.heading}
  </h2>
  <p class="text-lg mt-4 text-slate-600">
    {featuresTexts.paragraph}
  </p>
</div>

<div class="grid sm:grid-cols-2 md:grid-cols-3 mt-16 gap-16">
  {
    featuresTexts.features.map((item, index) => {
      // Define pastel color schemes for different feature categories
      const colorSchemes = [
        { bg: 'bg-pink-100', icon: 'text-pink-600' }, // Product Management
        { bg: 'bg-purple-100', icon: 'text-purple-600' }, // Design & UX/UI
        { bg: 'bg-blue-100', icon: 'text-blue-600' }, // Business Websites
        { bg: 'bg-green-100', icon: 'text-green-600' }, // Online Stores
        { bg: 'bg-cyan-100', icon: 'text-cyan-600' }, // Telegram Bots
        { bg: 'bg-orange-100', icon: 'text-orange-600' }, // AI Integrations
        { bg: 'bg-yellow-100', icon: 'text-yellow-600' }, // Analytics
        { bg: 'bg-indigo-100', icon: 'text-indigo-600' }, // Digital Training
        { bg: 'bg-rose-100', icon: 'text-rose-600' }, // AI & Crypto Training
      ];
      
      const colors = colorSchemes[index % colorSchemes.length];
      
      return (
        <div class="flex gap-4 items-start">
          <div class={`mt-1 ${colors.bg} rounded-full p-2 w-8 h-8 shrink-0 flex items-center justify-center`}>
            <Icon class={colors.icon} name={item.icon} />
          </div>
          <div>
            <h3 class="font-semibold text-lg">{item.title}</h3>{" "}
            <p class="text-slate-500 mt-2 leading-relaxed">{item.description}</p>
          </div>
        </div>
      );
    })
  }
</div>
