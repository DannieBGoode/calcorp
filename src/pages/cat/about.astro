---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import { aboutTextsCat } from "../../content/about/about-texts.cat.js";
import AboutComponent from "@components/about.astro";

// Filter team entries with 'draft: false' & date before current date
const publishedTeamMembers = await getCollection("team", ({ data }) => {
  return !data.draft && data.publishDate < new Date();
});
---

<Layout title={aboutTextsCat.title}>
  <AboutComponent texts={aboutTextsCat} teamMembers={publishedTeamMembers} />
</Layout>
